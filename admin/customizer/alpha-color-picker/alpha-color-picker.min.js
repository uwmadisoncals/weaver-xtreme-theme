Color.prototype.toString=function(a){if("no-alpha"==a){return this.toCSS("rgba","1").replace(/\s+/g,"")}if(1>this._alpha){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var c=parseInt(this._color,10).toString(16);if(this.error){return""}if(c.length<6){for(var b=6-c.length-1;b>=0;b--){c="0"+c}}return"#"+c};function acp_get_alpha_value_from_color(b){var a;b=b.replace(/ /g,"");if(b.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)){a=parseFloat(b.match(/rgba\(\d+\,\d+\,\d+\,([^\)]+)\)/)[1]).toFixed(2)*100;a=parseInt(a)}else{a=100}return a}function acp_update_alpha_value_on_color_control(g,e,f,c){var d,a,b;d=e.data("a8cIris");a=e.data("wpWpColorPicker");d._color._alpha=g;b=d._color.toString();e.val(b);a.toggler.css({"background-color":b});if(c){acp_update_alpha_value_on_alpha_slider(g,f)}e.wpColorPicker("color",b)}function acp_update_alpha_value_on_alpha_slider(b,a){a.slider("value",b);a.find(".ui-slider-handle").text(b.toString())}jQuery(document).ready(function(a){a(".alpha-color-control").each(function(){var i,h,g,e,b,c,j,l,f,d,k;
i=a(this);h=i.val().replace(/\s+/g,"");g=i.attr("data-palette");e=i.attr("data-show-opacity");b=i.attr("data-default-color");if(g=="false"){c=false}else{if(g=="true"){c=true}else{c=i.attr("data-palette").split("|")}}j={change:function(o,q){var n,p,r,m;n=i.attr("data-customize-setting-link");p=i.wpColorPicker("color");if(b==p){r=acp_get_alpha_value_from_color(p);f.find(".ui-slider-handle").text(r)}wp.customize(n,function(s){s.set(p)});m=l.find(".transparency");m.css("background-color",q.color.toString("no-alpha"))},palettes:c};i.wpColorPicker(j);l=i.parents(".wp-picker-container:first");a('<div class="alpha-color-picker-container"><div class="min-click-zone click-zone"></div><div class="max-click-zone click-zone"></div><div class="alpha-slider"></div><div class="transparency"></div></div>').appendTo(l.find(".wp-picker-holder"));f=l.find(".alpha-slider");d=acp_get_alpha_value_from_color(h);k={create:function(m,o){var n=a(this).slider("value");a(this).find(".ui-slider-handle").text(n);a(this).siblings(".transparency ").css("background-color",h)
},value:d,range:"max",step:1,min:0,max:100,animate:300};f.slider(k);if("true"==e){f.find(".ui-slider-handle").addClass("show-opacity")}l.find(".min-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(0,i,f,true)});l.find(".max-click-zone").on("click",function(){acp_update_alpha_value_on_color_control(100,i,f,true)});l.find(".iris-palette").on("click",function(){var m,n;m=a(this).css("background-color");n=acp_get_alpha_value_from_color(m);acp_update_alpha_value_on_alpha_slider(n,f);if(n!=100){m=m.replace(/[^,]+(?=\))/,(n/100).toFixed(2))}i.wpColorPicker("color",m)});l.find(".button.wp-picker-default").on("click",function(){var m=acp_get_alpha_value_from_color(b);acp_update_alpha_value_on_alpha_slider(m,f)});f.slider().on("slide",function(m,n){var o=parseFloat(n.value)/100;acp_update_alpha_value_on_color_control(o,i,f,false);a(this).find(".ui-slider-handle").text(n.value)})})});